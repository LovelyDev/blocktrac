<VirtualHost *:80>
    ServerName zerptracker.com
    DocumentRoot /var/www/zitui
    Redirect permanent / https://zerptracker.com/
</VirtualHost>

<IfModule mod_ssl.c>
  <VirtualHost *:443>
    SSLEngine on
    ServerName zerptracker.com
    DocumentRoot /var/www/zitui

    ErrorLog "logs/zitui_error_log"
    CustomLog "logs/zitui_access_log" combined

    SSLCertificateFile /etc/letsencrypt/certs/signed-zerptrackercom.crt
    SSLCertificateKeyFile /etc/letsencrypt/private/zerptrackercom.key
    SSLCertificateChainFile /etc/letsencrypt/certs/chained_cert-zerptrackercom.pem

    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    Header always set Content-Security-Policy "default-src 'self'; connect-src https://api.zerptracker.com/ wss://s2.ripple.com; child-src https://www.youtube.com; font-src 'self'; img-src 'self' data:; script-src 'self' 'unsafe-eval'; style-src 'self'"
    Header always append X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
    Header always set X-Content-Type-Options nosniff

    #Header Set Access-Control-Allow-Origin "*"

    <Directory /var/www/zitui>
      RewriteEngine On
      RewriteBase /
      RewriteRule ^index\.html$ - [L]
      RewriteCond %{REQUEST_FILENAME} !-f
      RewriteCond %{REQUEST_FILENAME} !-d
      RewriteRule . /index.html [L]
    </Directory>
  </VirtualHost>
</IfModule>
